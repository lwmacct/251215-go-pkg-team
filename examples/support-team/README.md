# å®¢æœæ”¯æŒå›¢é˜Ÿç¤ºä¾‹

åŸºäº Actor æ¶ˆæ¯é©±åŠ¨çš„å¤š Agent åä½œç¤ºä¾‹ï¼Œæ”¯æŒæŒç»­å¯¹è¯ã€‚

## æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| ğŸ‘‘ Leader é©±åŠ¨ | æ‰€æœ‰ä»»åŠ¡é€šè¿‡ Leader (åˆ†è¯Šä¸“å‘˜) åè°ƒ |
| ğŸ”„ æŒç»­å¯¹è¯ | æ”¯æŒå¤šè½®äº¤äº’ï¼Œä¸é€€å‡ºç­‰å¾…ä¸‹ä¸€ä¸ªè¯·æ±‚ |
| ğŸ“ ä¸Šä¸‹æ–‡ä¿æŒ | Agent è‡ªåŠ¨ç»´æŠ¤å¯¹è¯å†å² |
| âš¡ Delegate æœºåˆ¶ | çœŸæ­£çš„ Actor æ¶ˆæ¯å§”æ‰˜ |

## æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æŒç»­äº‹ä»¶å¾ªç¯                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ç”¨æˆ·è¾“å…¥ â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚              â”‚   Leader     â”‚                               â”‚
â”‚              â”‚  (åˆ†è¯Šä¸“å‘˜)   â”‚â”€â”€â–º Delegate â”€â”€â–º ä¸“å®¶          â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                     â”‚                                        â”‚
â”‚                     â–¼                                        â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚              â”‚ ç­‰å¾…ä¸‹ä¸€ä¸ª   â”‚â—„â”€â”€ ç”¨æˆ·åç»­è¯·æ±‚               â”‚
â”‚              â”‚   è¯·æ±‚       â”‚                               â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å›¢é˜Ÿæˆå‘˜

| è§’è‰² | ID | èŒè´£ |
|------|-----|------|
| ğŸ‘‘ åˆ†è¯Šä¸“å‘˜ | `triage` | Leaderï¼Œåˆ†æé—®é¢˜å¹¶å§”æ‰˜ç»™ä¸“å®¶ |
| ğŸ”§ æŠ€æœ¯æ”¯æŒ | `tech-support` | å¤„ç†è´¦æˆ·ã€å¯†ç ã€ç³»ç»Ÿé—®é¢˜ |
| ğŸ’° è´¦å•æ”¯æŒ | `billing-support` | å¤„ç†æ”¯ä»˜ã€é€€æ¬¾ã€è®¢é˜…é—®é¢˜ |
| ğŸš¨ å‡çº§å¤„ç† | `escalation` | å¤„ç†å¤æ‚/ç´§æ€¥é—®é¢˜ |

## è¿è¡Œ

```bash
go run ./examples/support-team/
```

## äº¤äº’ç¤ºä¾‹

```
ğŸ« å®¢æœæ”¯æŒå›¢é˜Ÿ Demoï¼ˆæŒç»­å¯¹è¯ç‰ˆï¼‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‘‘ å›¢é˜Ÿ Leader: åˆ†è¯Šä¸“å‘˜
ğŸ”” å·²è®¢é˜… 4 ä¸ª Agent çš„äº‹ä»¶æµ
ğŸ’¬ è¾“å…¥é—®é¢˜å¼€å§‹å¯¹è¯ï¼Œè¾“å…¥ 'exit' é€€å‡º

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¥ è¯·è¾“å…¥é—®é¢˜: æˆ‘æ— æ³•ç™»å½•è´¦æˆ·

ğŸ” [Leader: åˆ†è¯Šä¸“å‘˜] åˆ†æä¸­...
   â†’ ç±»å‹: technical, ä¼˜å…ˆçº§: medium
   â†’ å§”æ‰˜ç»™: æŠ€æœ¯æ”¯æŒ (Delegate æ¶ˆæ¯)

ğŸ”§ [æŠ€æœ¯æ”¯æŒ] å¤„ç†ä¸­...
   âš¡ å‘é€ Delegate æ¶ˆæ¯
   âš¡ æ”¶åˆ° Delegate ç»“æœ

ğŸ’¬ è§£å†³æ–¹æ¡ˆ:
   å·²é‡ç½®å¯†ç ï¼Œè¯·æŸ¥æ”¶é‚®ä»¶ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¥ è¯·è¾“å…¥é—®é¢˜: è¿˜æ˜¯ä¸è¡Œï¼Œè´¦æˆ·è¢«é”å®šäº†

ğŸ” [Leader: åˆ†è¯Šä¸“å‘˜] åˆ†æä¸­...ï¼ˆä¿æŒä¸Šä¸‹æ–‡ï¼‰
   â†’ å§”æ‰˜ç»™: å‡çº§å¤„ç†

ğŸ’¬ è§£å†³æ–¹æ¡ˆ:
   å·²è§£é”è´¦æˆ·ï¼Œè¯·é‡è¯•ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¥ è¯·è¾“å…¥é—®é¢˜: exit

ğŸ‘‹ æ„Ÿè°¢ä½¿ç”¨ï¼Œå†è§ï¼

ğŸ“Š ä¼šè¯æ±‡æ€»
   å¤„ç†è¯·æ±‚æ•°: 2
   è¿›åº¦è®°å½•: 13 æ¡
```

## æ¶ˆæ¯æµ

```
ç”¨æˆ·è¾“å…¥
    â”‚
    â–¼
Main â”€â”€GetLeader()â”€â”€â–º TeamActor
    â”‚â—„â”€â”€â”€â”€â”€Leaderâ”€â”€â”€â”€â”‚
    â”‚
    â”‚â”€â”€Run(é—®é¢˜)â”€â”€â”€â”€â–º Leader (åˆ†è¯Šä¸“å‘˜)
    â”‚                     â”‚
    â”‚                     â”‚ åˆ†æ & åˆ†ç±»
    â”‚                     â”‚
    â”‚                     â”‚â”€â”€Delegateâ”€â”€â–º æŠ€æœ¯æ”¯æŒ/è´¦å•æ”¯æŒ/å‡çº§å¤„ç†
    â”‚                     â”‚â—„â”€â”€Resultâ”€â”€â”€â”€â”‚
    â”‚â—„â”€â”€â”€EventTypeDoneâ”€â”€â”€â”€â”‚
    â”‚
    â–¼
ç­‰å¾…ä¸‹ä¸€ä¸ªè¯·æ±‚
```

## å…³é”®ä»£ç 

### Session ä¼šè¯çŠ¶æ€

```go
type Session struct {
    taskID        string              // å½“å‰ä»»åŠ¡ ID
    requestCount  int                 // è¯·æ±‚è®¡æ•°
    leaderPID     *actor.PID          // Leader Actor
    leaderID      string              // Leader ID
    teamPID       *actor.PID          // Team Actor
    members       map[string]*AgentMember
    eventCh       chan *AgentEvent    // å…¨å±€äº‹ä»¶é€šé“
    resultCh      chan string         // ç»“æœé€šé“
}
```

### é€šè¿‡ Leader å‘é€ä»»åŠ¡

```go
leader, _ := team.DoGetLeader(teamPID, timeout)
leaderPID := members[leader.ID()].PID()

leaderPID.Tell(&agent.Run{
    Text:      userInput,
    EventChan: eventCh,
})
```

### Delegate æ¶ˆæ¯å§”æ‰˜

```go
leaderPID.Tell(&agent.Delegate{
    TargetAgentID: "tech-support",
    Task:          userIssue,
    ResultChan:    resultCh,
})
```

## æ–‡ä»¶ç»“æ„

```
examples/support-team/
â”œâ”€â”€ main.go      # æŒç»­å¯¹è¯ä¸»ç¨‹åº
â”œâ”€â”€ agents.go    # Agent è§’è‰²å®šä¹‰
â””â”€â”€ README.md    # æœ¬æ–‡æ¡£
```
